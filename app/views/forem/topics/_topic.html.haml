%tr{:class => "topic #{cycle('odd', 'even')} #{topic.locked? ? 'locked' : 'unlocked'}"}
  %td.icon
    - if topic.locked?
      %span.lock.icon
    - if topic.pinned?
      %span.pin.icon
    - if forem_user && view = topic.view_for(forem_user)
      - if topic.posts.exists?(["created_at > ?", view.updated_at])
        %span.new_posts.icon new
  %td.byline
    .subject= link_to topic.subject, forum_topic_path(@forum, topic)
    .started-by
      = t "started_by"
      = topic.posts.by_created_at.first.user
  %td.latest-post
    = link_to_latest_post(topic.posts.by_created_at.last)
  %td.posts-count= topic.posts.count
  %td.views-count= topic.views.sum(:count)
